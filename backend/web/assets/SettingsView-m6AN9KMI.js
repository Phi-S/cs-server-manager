var _=Object.defineProperty;var f=(s,t,r)=>t in s?_(s,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[t]=r;var l=(s,t,r)=>f(s,typeof t!="symbol"?t+"":t,r);import{G as g,h as c,P as b,d as v,r as h,o as x,c as y,a as e,w as i,v as d,u as a,b as p,e as w,f as k}from"./index-Cc76KJhp.js";class S{constructor(){l(this,"hostname");l(this,"password");l(this,"start_map");l(this,"max_players");l(this,"steam_login_token")}}async function V(){const s=await g("/settings");return c("Failed to get settings",s),s}async function u(s){const t=await b("/settings",s);return c("Failed to update server settings",t),t}const M={class:"w-100 d-flex justify-content-center"},T={class:"w-100",style:{"max-width":"600px"}},H={class:"form-group mb-3"},P=e("label",{for:"hostname"},"Hostname",-1),U={class:"form-group mb-3"},L=e("label",{for:"password"},"Server password",-1),B={class:"form-group mb-3"},C=e("label",{for:"startMap"},"Start map",-1),R=e("small",{id:"StartMapHelp",class:"form-text text-muted"},"The map which is loaded when server starts",-1),A={class:"form-group mb-3"},E=e("label",{for:"maxPlayers"},"May Players",-1),F={class:"form-group mb-3"},G=e("label",{for:"steamLoginToken"},"Steam login token",-1),N=e("small",{id:"steamLoginTokenHelp",class:"form-text text-muted"},[w(" You can generate a token "),e("a",{href:"https://steamcommunity.com/dev/managegameservers"},"Here")],-1),j=e("br",null,null,-1),q=e("small",{class:"form-text text-muted"},"A server restart is required for those settings to take effect",-1),Y=v({__name:"SettingsView",setup(s){let t=h(new S);V().then(m=>{t.value=m});async function r(){await u(t.value),await k()}return(m,o)=>(x(),y("div",M,[e("form",T,[e("div",H,[P,i(e("input",{"onUpdate:modelValue":o[0]||(o[0]=n=>a(t).hostname=n),type:"text",class:"form-control",id:"hostname"},null,512),[[d,a(t).hostname]])]),e("div",U,[L,i(e("input",{"onUpdate:modelValue":o[1]||(o[1]=n=>a(t).password=n),type:"text",class:"form-control",id:"password"},null,512),[[d,a(t).password]])]),e("div",B,[C,i(e("input",{"onUpdate:modelValue":o[2]||(o[2]=n=>a(t).start_map=n),type:"text",class:"form-control",id:"startMap","aria-describedby":"statMapHelp"},null,512),[[d,a(t).start_map]]),R]),e("div",A,[E,i(e("input",{"onUpdate:modelValue":o[3]||(o[3]=n=>a(t).max_players=n),type:"number",class:"form-control",id:"maxPlayers"},null,512),[[d,a(t).max_players,void 0,{number:!0}]])]),e("div",F,[G,i(e("input",{"onUpdate:modelValue":o[4]||(o[4]=n=>a(t).steam_login_token=n),type:"text",class:"form-control",id:"steamLoginToken","aria-describedby":"steamLoginTokenHelp"},null,512),[[d,a(t).steam_login_token]]),N]),e("button",{onClick:p(r,["prevent"]),type:"submit",class:"btn btn-outline-info me-2"}," Save and Restart "),e("button",{onClick:o[5]||(o[5]=p(n=>a(u)(a(t)),["prevent"])),type:"submit",class:"btn btn-outline-info"}," Save "),j,q])]))}});export{Y as default};
